//
//  HuffmanTables.hpp
//  AaSD_Jpeg_laba2
//
//  Created by Егор on 03.05.2025.
//

#ifndef HuffmanTables_hpp
#define HuffmanTables_hpp

#include <vector>
#include <unordered_map>
#include "PairHash.hpp"


namespace JPEGHuffmanTables {

using HuffmanTable = std::unordered_map<std::pair<unsigned char, unsigned char>, std::pair<unsigned char, unsigned short>, PairHash>;

const std::unordered_map<int, std::pair<uint8_t, uint16_t>> DC_LUM = {
    {0,  {2, 0b00}},
    {1,  {3, 0b010}},
    {2,  {3, 0b011}},
    {3,  {3, 0b100}},
    {4,  {3, 0b101}},
    {5,  {3, 0b110}},
    {6,  {4, 0b1110}},
    {7,  {5, 0b11110}},
    {8,  {6, 0b111110}},
    {9,  {7, 0b1111110}},
    {10, {8, 0b11111110}},
    {11, {9, 0b111111110}}
};


const std::unordered_map<int, std::pair<uint8_t, uint16_t>> DC_CHR = {
    {0,  {2, 0b00}},
    {1,  {2, 0b01}},
    {2,  {2, 0b10}},
    {3,  {3, 0b110}},
    {4,  {4, 0b1110}},
    {5,  {5, 0b11110}},
    {6,  {6, 0b111110}},
    {7,  {7, 0b1111110}},
    {8,  {8, 0b11111110}},
    {9,  {9, 0b111111110}},
    {10, {10, 0b1111111110}},
    {11, {11, 0b11111111110}}
};


const std::unordered_map<std::pair<uint8_t, uint8_t>, std::pair<uint8_t, uint16_t>, PairHash> AC_LUM = {
    {{0,1},  {4, 0b0000}},
    {{0,2},  {5, 0b00010}},
    {{0,3},  {6, 0b000110}},
    {{0,4},  {7, 0b0001110}},
    {{0,5},  {8, 0b00011110}},
    {{0,6},  {9, 0b000111110}},
    {{0,7},  {10, 0b0001111110}},
    {{0,8},  {11, 0b00011111110}},
    {{1,1},  {5, 0b00100}},
    {{1,2},  {8, 0b00101110}},
    {{1,3},  {10, 0b001011110}},
    {{2,1},  {6, 0b001100}},
    {{2,2},  {9, 0b001101110}},
    {{3,1},  {7, 0b0011100}},
    {{3,2},  {10, 0b001110110}},
    {{4,1},  {8, 0b00111100}},
    {{5,1},  {9, 0b001111010}},
    {{6,1},  {10, 0b001111100}},
    {{7,1},  {11, 0b0011111010}},
    {{8,1},  {12, 0b00111110110}},
    {{9,1},  {13, 0b001111101110}},
    {{10,1}, {14, 0b0011111011110}},
    {{1,4},  {12, 0b001111110000}},
    {{1,5},  {15, 0b001111110001000}},
    {{1,6},  {16, 0b0011111100011000}},
    {{1,7},  {16, 0b0011111100011001}},
    {{1,8},  {16, 0b0011111100011010}},
    {{2,3},  {12, 0b001111110010}},
    {{2,4},  {16, 0b0011111100110000}},
    {{0,9},  {16, 0b0011111100110001}},
    {{0,10}, {16, 0b0011111100110010}},
    {{0,11}, {16, 0b0011111100110011}},
    {{1,9},  {16, 0b0011111100110100}},
    {{1,10}, {16, 0b0011111100110101}},
    {{1,11}, {16, 0b0011111100110110}},
    {{2,5},  {16, 0b0011111100110111}},
    {{2,6},  {16, 0b0011111100111000}},
    {{2,7},  {16, 0b0011111100111001}},
    {{2,8},  {16, 0b0011111100111010}},
    {{3,3},  {14, 0b00111111001111}},
    {{3,4},  {16, 0b0011111101000000}},
    {{3,5},  {16, 0b0011111101000001}},
    {{3,6},  {16, 0b0011111101000010}},
    {{3,7},  {16, 0b0011111101000011}},
    {{3,8},  {16, 0b0011111101000100}},
    {{4,2},  {12, 0b0011111101001}},
    {{4,3},  {16, 0b0011111101010000}},
    {{4,4},  {16, 0b0011111101010001}},
    {{4,5},  {16, 0b0011111101010010}},
    {{4,6},  {16, 0b0011111101010011}},
    {{4,7},  {16, 0b0011111101010100}},
    {{4,8},  {16, 0b0011111101010101}},
    {{5,2},  {14, 0b00111111010110}},
    {{5,3},  {16, 0b0011111101011100}},
    {{5,4},  {16, 0b0011111101011101}},
    {{5,5},  {16, 0b0011111101011110}},
    {{5,6},  {16, 0b0011111101011111}},
    {{5,7},  {16, 0b0011111101100000}},
    {{5,8},  {16, 0b0011111101100001}},
    {{6,2},  {14, 0b00111111011001}},
    {{6,3},  {16, 0b0011111101101000}},
    {{6,4},  {16, 0b0011111101101001}},
    {{6,5},  {16, 0b0011111101101010}},
    {{6,6},  {16, 0b0011111101101011}},
    {{6,7},  {16, 0b0011111101101100}},
    {{6,8},  {16, 0b0011111101101101}},
    {{7,2},  {14, 0b00111111011011}},
    {{7,3},  {16, 0b0011111101110000}},
    {{7,4},  {16, 0b0011111101110001}},
    {{7,5},  {16, 0b0011111101110010}},
    {{7,6},  {16, 0b0011111101110011}},
    {{7,7},  {16, 0b0011111101110100}},
    {{7,8},  {16, 0b0011111101110101}},
    {{8,2},  {15, 0b001111110111011}},
    {{8,3},  {16, 0b0011111101111000}},
    {{8,4},  {16, 0b0011111101111001}},
    {{8,5},  {16, 0b0011111101111010}},
    {{8,6},  {16, 0b0011111101111011}},
    {{8,7},  {16, 0b0011111101111100}},
    {{8,8},  {16, 0b0011111101111101}},
    {{9,2},  {16, 0b0011111101111110}},
    {{9,3},  {16, 0b0011111101111111}},
    {{9,4},  {16, 0b0011111110000000}},
    {{9,5},  {16, 0b0011111110000001}},
    {{9,6},  {16, 0b0011111110000010}},
    {{9,7},  {16, 0b0011111110000011}},
    {{9,8},  {16, 0b0011111110000100}},
    {{10,2}, {16, 0b0011111110000101}},
    {{10,3}, {16, 0b0011111110000110}},
    {{10,4}, {16, 0b0011111110000111}},
    {{10,5}, {16, 0b0011111110001000}},
    {{10,6}, {16, 0b0011111110001001}},
    {{10,7}, {16, 0b0011111110001010}},
    {{10,8}, {16, 0b0011111110001011}},
    {{11,1}, {15, 0b001111111000110}},
    {{11,2}, {16, 0b0011111110001110}},
    {{11,3}, {16, 0b0011111110001111}},
    {{11,4}, {16, 0b0011111110010000}},
    {{11,5}, {16, 0b0011111110010001}},
    {{11,6}, {16, 0b0011111110010010}},
    {{11,7}, {16, 0b0011111110010011}},
    {{11,8}, {16, 0b0011111110010100}},
    {{12,1}, {16, 0b0011111110010101}},
    {{12,2}, {16, 0b0011111110010110}},
    {{12,3}, {16, 0b0011111110010111}},
    {{12,4}, {16, 0b0011111110011000}},
    {{12,5}, {16, 0b0011111110011001}},
    {{12,6}, {16, 0b0011111110011010}},
    {{12,7}, {16, 0b0011111110011011}},
    {{12,8}, {16, 0b0011111110011100}},
    {{13,1}, {16, 0b0011111110011101}},
    {{13,2}, {16, 0b0011111110011110}},
    {{13,3}, {16, 0b0011111110011111}},
    {{13,4}, {16, 0b0011111110100000}},
    {{13,5}, {16, 0b0011111110100001}},
    {{13,6}, {16, 0b0011111110100010}},
    {{13,7}, {16, 0b0011111110100011}},
    {{13,8}, {16, 0b0011111110100100}},
    {{14,1}, {16, 0b0011111110100101}},
    {{14,2}, {16, 0b0011111110100110}},
    {{14,3}, {16, 0b0011111110100111}},
    {{14,4}, {16, 0b0011111110101000}},
    {{14,5}, {16, 0b0011111110101001}},
    {{14,6}, {16, 0b0011111110101010}},
    {{14,7}, {16, 0b0011111110101011}},
    {{14,8}, {16, 0b0011111110101100}},
    {{15,1}, {16, 0b0011111110101101}},
    {{15,2}, {16, 0b0011111110101110}},
    {{15,3}, {16, 0b0011111110101111}},
    {{15,4}, {16, 0b0011111110110000}},
    {{15,5}, {16, 0b0011111110110001}},
    {{15,6}, {16, 0b0011111110110010}},
    {{15,7}, {16, 0b0011111110110011}},
    {{15,8}, {16, 0b0011111110110100}},
    {{16,1}, {16, 0b0011111110110101}},
    {{16,2}, {16, 0b0011111110110110}},
    {{16,3}, {16, 0b0011111110110111}},
    {{16,4}, {16, 0b0011111110111000}},
    {{16,5}, {16, 0b0011111110111001}},
    {{16,6}, {16, 0b0011111110111010}},
    {{16,7}, {16, 0b0011111110111011}},
    {{16,8}, {16, 0b0011111110111100}},
    {{16,0}, {10, 0b1111111010}}  // EOB
};

const std::unordered_map<std::pair<uint8_t, uint8_t>, std::pair<uint8_t, uint16_t>, PairHash> AC_CHR = {
    {{0,1},  {2, 0b00}},
    {{0,2},  {3, 0b010}},
    {{0,3},  {4, 0b0110}},
    {{0,4},  {5, 0b01110}},
    {{0,5},  {6, 0b011110}},
    {{0,6},  {7, 0b0111110}},
    {{0,7},  {8, 0b01111110}},
    {{0,8},  {9, 0b011111110}},
    {{0,9},  {10, 0b0111111110}},
    {{0,10}, {11, 0b01111111110}},
    {{0,11}, {12, 0b011111111110}},
    {{1,1},  {4, 0b1000}},
    {{1,2},  {7, 0b1001000}},
    {{1,3},  {9, 0b100100110}},
    {{1,4},  {10, 0b1001001110}},
    {{1,5},  {11, 0b10010011110}},
    {{1,6},  {12, 0b100100111110}},
    {{2,1},  {6, 0b100101}},
    {{2,2},  {9, 0b100101100}},
    {{2,3},  {12, 0b100101101110}},
    {{3,1},  {7, 0b1001100}},
    {{3,2},  {10, 0b1001100110}},
    {{4,1},  {8, 0b10011010}},
    {{4,2},  {11, 0b10011001110}},
    {{5,1},  {9, 0b100110110}},
    {{5,2},  {12, 0b100110011110}},
    {{6,1},  {10, 0b1001101110}},
    {{6,2},  {12, 0b100110111100}},
    {{7,1},  {11, 0b10011011110}},
    {{7,2},  {13, 0b1001101111010}},
    {{8,1},  {12, 0b100110111110}},
    {{8,2},  {13, 0b1001101111011}},
    {{9,1},  {13, 0b1001101111110}},
    {{9,2},  {14, 0b10011011111110}},
    {{10,1}, {14, 0b10011011111111}},
    {{10,2}, {15, 0b100111000000000}},
    {{11,1}, {15, 0b100111000000001}},
    {{11,2}, {16, 0b1001110000000100}},
    {{12,1}, {16, 0b1001110000000101}},
    {{12,2}, {16, 0b1001110000000110}},
    {{13,1}, {16, 0b1001110000000111}},
    {{13,2}, {16, 0b1001110000001000}},
    {{14,1}, {16, 0b1001110000001001}},
    {{14,2}, {16, 0b1001110000001010}},
    {{15,1}, {16, 0b1001110000001011}},
    {{15,2}, {16, 0b1001110000001100}},
    {{16,1}, {16, 0b1001110000001101}},
    {{16,2}, {16, 0b1001110000001110}},
    {{1,7},  {13, 0b1001001111110}},
    {{1,8},  {16, 0b1001110000001111}},
    {{1,9},  {16, 0b1001110000010000}},
    {{1,10}, {16, 0b1001110000010001}},
    {{1,11}, {16, 0b1001110000010010}},
    {{2,4},  {14, 0b1001011011110}},
    {{2,5},  {16, 0b1001110000010011}},
    {{2,6},  {16, 0b1001110000010100}},
    {{2,7},  {16, 0b1001110000010101}},
    {{2,8},  {16, 0b1001110000010110}},
    {{3,3},  {13, 0b100110011111}},
    {{3,4},  {16, 0b1001110000010111}},
    {{3,5},  {16, 0b1001110000011000}},
    {{3,6},  {16, 0b1001110000011001}},
    {{3,7},  {16, 0b1001110000011010}},
    {{3,8},  {16, 0b1001110000011011}},
    {{4,3},  {14, 0b1001100111100}},
    {{4,4},  {16, 0b1001110000011100}},
    {{4,5},  {16, 0b1001110000011101}},
    {{4,6},  {16, 0b1001110000011110}},
    {{4,7},  {16, 0b1001110000011111}},
    {{4,8},  {16, 0b1001110000100000}},
    {{5,3},  {15, 0b10011001111010}},
    {{5,4},  {16, 0b1001110000100001}},
    {{5,5},  {16, 0b1001110000100010}},
    {{5,6},  {16, 0b1001110000100011}},
    {{5,7},  {16, 0b1001110000100100}},
    {{5,8},  {16, 0b1001110000100101}},
    {{6,3},  {15, 0b10011001111011}},
    {{6,4},  {16, 0b1001110000100110}},
    {{6,5},  {16, 0b1001110000100111}},
    {{6,6},  {16, 0b1001110000101000}},
    {{6,7},  {16, 0b1001110000101001}},
    {{6,8},  {16, 0b1001110000101010}},
    {{7,3},  {16, 0b1001110000101011}},
    {{7,4},  {16, 0b1001110000101100}},
    {{7,5},  {16, 0b1001110000101101}},
    {{7,6},  {16, 0b1001110000101110}},
    {{7,7},  {16, 0b1001110000101111}},
    {{7,8},  {16, 0b1001110000110000}},
    {{8,3},  {16, 0b1001110000110001}},
    {{8,4},  {16, 0b1001110000110010}},
    {{8,5},  {16, 0b1001110000110011}},
    {{8,6},  {16, 0b1001110000110100}},
    {{8,7},  {16, 0b1001110000110101}},
    {{8,8},  {16, 0b1001110000110110}},
    {{9,3},  {16, 0b1001110000110111}},
    {{9,4},  {16, 0b1001110000111000}},
    {{9,5},  {16, 0b1001110000111001}},
    {{9,6},  {16, 0b1001110000111010}},
    {{9,7},  {16, 0b1001110000111011}},
    {{9,8},  {16, 0b1001110000111100}},
    {{10,3}, {16, 0b1001110000111101}},
    {{10,4}, {16, 0b1001110000111110}},
    {{10,5}, {16, 0b1001110000111111}},
    {{10,6}, {16, 0b1001110001000000}},
    {{10,7}, {16, 0b1001110001000001}},
    {{10,8}, {16, 0b1001110001000010}},
    {{11,3}, {16, 0b1001110001000011}},
    {{11,4}, {16, 0b1001110001000100}},
    {{11,5}, {16, 0b1001110001000101}},
    {{11,6}, {16, 0b1001110001000110}},
    {{11,7}, {16, 0b1001110001000111}},
    {{11,8}, {16, 0b1001110001001000}},
    {{12,3}, {16, 0b1001110001001001}},
    {{12,4}, {16, 0b1001110001001010}},
    {{12,5}, {16, 0b1001110001001011}},
    {{12,6}, {16, 0b1001110001001100}},
    {{12,7}, {16, 0b1001110001001101}},
    {{12,8}, {16, 0b1001110001001110}},
    {{13,3}, {16, 0b1001110001001111}},
    {{13,4}, {16, 0b1001110001010000}},
    {{13,5}, {16, 0b1001110001010001}},
    {{13,6}, {16, 0b1001110001010010}},
    {{13,7}, {16, 0b1001110001010011}},
    {{13,8}, {16, 0b1001110001010100}},
    {{14,3}, {16, 0b1001110001010101}},
    {{14,4}, {16, 0b1001110001010110}},
    {{14,5}, {16, 0b1001110001010111}},
    {{14,6}, {16, 0b1001110001011000}},
    {{14,7}, {16, 0b1001110001011001}},
    {{14,8}, {16, 0b1001110001011010}},
    {{15,3}, {16, 0b1001110001011011}},
    {{15,4}, {16, 0b1001110001011100}},
    {{15,5}, {16, 0b1001110001011101}},
    {{15,6}, {16, 0b1001110001011110}},
    {{15,7}, {16, 0b1001110001011111}},
    {{15,8}, {16, 0b1001110001100000}},
    {{16,3}, {16, 0b1001110001100001}},
    {{16,4}, {16, 0b1001110001100010}},
    {{16,5}, {16, 0b1001110001100011}},
    {{16,6}, {16, 0b1001110001100100}},
    {{16,7}, {16, 0b1001110001100101}},
    {{16,8}, {16, 0b1001110001100110}},
    {{16,0}, {10, 0b1111111010}}  // EOB
};

}
#endif /* HuffmanTables_hpp */
